{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nimport _imports_0 from '../assets/images/logo/logo.png';\nimport _imports_1 from '../assets/images/logo/logo_dark.png';\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 p-0\"\n};\nconst _hoisted_4 = {\n  class: \"login-card\"\n};\nconst _hoisted_5 = {\n  class: \"login-main\"\n};\nconst _hoisted_6 = {\n  class: \"theme-form\"\n};\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"validate-error\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = {\n  class: \"form-input position-relative\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"validate-error\"\n};\nconst _hoisted_12 = {\n  class: \"form-group mb-0\"\n};\nconst _hoisted_13 = {\n  class: \"text-end mt-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", null, [_createElementVNode(\"a\", {\n    class: \"logo\"\n  }, [_createElementVNode(\"img\", {\n    class: \"img-fluid for-light\",\n    src: _imports_0,\n    alt: \"looginpage\"\n  }), _createElementVNode(\"img\", {\n    class: \"img-fluid for-dark\",\n    src: _imports_1,\n    alt: \"looginpage\"\n  })])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", _hoisted_6, [_cache[8] || (_cache[8] = _createElementVNode(\"h4\", null, \"Sign in to account\", -1 /* HOISTED */)), _cache[9] || (_cache[9] = _createElementVNode(\"p\", null, \"Enter your email & password to login\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"col-form-label\"\n  }, \"Email Address\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"email\",\n    required: \"\",\n    placeholder: \"muthutex@gmail.com\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.email.value = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.email.value]]), !$data.user.email.value || !$options.validEmail($data.user.email.value) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString($data.user.email.errormsg), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_9, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    class: \"col-form-label\"\n  }, \"Password\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"password\",\n    name: \"login[password]\",\n    required: \"\",\n    placeholder: \"*********\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.password.value = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.password.value]]), $data.user.password.value.length < 7 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, _toDisplayString($data.user.password.errormsg), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"show-hide\"\n  }, [_createElementVNode(\"span\", {\n    class: \"show\"\n  })], -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_12, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"checkbox p-0\"\n  }, [_createElementVNode(\"input\", {\n    id: \"checkbox1\",\n    type: \"checkbox\"\n  }), _createElementVNode(\"label\", {\n    class: \"text-muted\",\n    for: \"checkbox1\"\n  }, \"Remember password\")], -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    class: \"link\",\n    to: \"/authentication/forgetpassword\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\" Forgot password?\")])),\n    _: 1 /* STABLE */,\n    __: [6]\n  }), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary btn-block w-100\",\n    type: \"submit\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, \"Sign in\")])]), _cache[10] || (_cache[10] = _createElementVNode(\"p\", {\n    class: \"mt-4 mb-0 text-center\"\n  }, [_createTextVNode(\"Don't have account?\"), _createElementVNode(\"a\", {\n    class: \"ms-2\",\n    href: \"sign-up.html\"\n  }, \"Create Account\")], -1 /* HOISTED */))])])])])])])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","class","key","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","src","alt","_hoisted_5","_hoisted_6","_hoisted_7","type","required","placeholder","_cache","$event","$data","user","email","value","$options","validEmail","_hoisted_8","_toDisplayString","errormsg","_createCommentVNode","_hoisted_9","_hoisted_10","name","password","length","_hoisted_11","_hoisted_12","id","for","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","__","_hoisted_13","onClick","_withModifiers","args","login","href"],"sources":["D:\\Wrenix\\Spring-Sfa\\Cuba\\template\\template\\src\\auth\\login.vue"],"sourcesContent":["<template>\n  <div>\n\n    <div class=\"container-fluid\">\n      <div class=\"row \">\n        <div class=\"col-12 p-0\">\n          <div class=\"login-card\">\n            <div>\n              <div>\n                <a class=\"logo\">\n                  <img class=\"img-fluid for-light\" src=\"../assets/images/logo/logo.png\" alt=\"looginpage\" />\n                  <img class=\"img-fluid for-dark\" src=\"../assets/images/logo/logo_dark.png\" alt=\"looginpage\" />\n                </a>\n              </div>\n              <div class=\"login-main\">\n                <form class=\"theme-form\">\n                  <h4>Sign in to account</h4>\n                  <p>Enter your email & password to login</p>\n                  <div class=\"form-group\">\n                    <label class=\"col-form-label\">Email Address</label>\n                    <input class=\"form-control\" type=\"email\" required=\"\" placeholder=\"muthutex@gmail.com\"\n                      v-model=\"user.email.value\">\n                    <span class=\"validate-error\" v-if=\"!user.email.value || !validEmail(user.email.value)\">{{\n                      user.email.errormsg }}</span>\n\n                  </div>\n                  <div class=\"form-group\">\n                    <label class=\"col-form-label\">Password</label>\n                    <div class=\"form-input position-relative\">\n                      <input class=\"form-control\" type=\"password\" name=\"login[password]\" required=\"\"\n                        placeholder=\"*********\" v-model=\"user.password.value\">\n                      <span class=\"validate-error\" v-if=\"user.password.value.length < 7\">{{ user.password.errormsg\n                      }}</span>\n\n                      <div class=\"show-hide\"><span class=\"show\"> </span></div>\n                    </div>\n                  </div>\n                  <div class=\"form-group mb-0\">\n                    <div class=\"checkbox p-0\">\n                      <input id=\"checkbox1\" type=\"checkbox\">\n                      <label class=\"text-muted\" for=\"checkbox1\">Remember password</label>\n                    </div><router-link class=\"link\" to=\"/authentication/forgetpassword\"> Forgot password?</router-link>\n                    <div class=\"text-end mt-3\">\n                      <button class=\"btn btn-primary btn-block w-100\" type=\"submit\" @click.prevent=\"login\">Sign\n                        in</button>\n\n                    </div>\n                  </div>\n                  <p class=\"mt-4 mb-0 text-center\">Don't have account?<a class=\"ms-2\" href=\"sign-up.html\">Create\n                      Account</a></p>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport apiService from '@/services/apiService';\n\nexport default {\n  name: 'login',\n  data() {\n    return {\n      user: {\n        email: {\n          value: '',\n          errormsg: '',\n        },\n        password: {\n          value: '',\n          errormsg: '',\n        },\n      },\n    };\n  },\n  methods: {\n    async login() {\n      // Validate email and password\n      if (!this.user.password.value || this.user.password.value.length < 6) {\n        this.user.password.errormsg = 'Password must be at least 6 characters.';\n      } else {\n        this.user.password.errormsg = '';\n      }\n\n      if (!this.user.email.value) {\n        this.user.email.errormsg = 'Email is required.';\n      } else if (!this.validEmail(this.user.email.value)) {\n        this.user.email.errormsg = 'Invalid email format.';\n      } else {\n        this.user.email.errormsg = '';\n      }\n\n      // Proceed if no validation errors\n      if (!this.user.email.errormsg && !this.user.password.errormsg) {\n        try {\n          const response = await apiService.login(\n            this.user.email.value,\n            this.user.password.value\n          );\n\n          // Store the token and user details\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('user', JSON.stringify(response.data));\n\n          // Redirect to the dashboard\n          this.$router.push('/dashboard');\n        } catch (error) {\n          alert('Invalid credentials or server error.');\n          console.error(error);\n        }\n      }\n    },\n    validEmail(email) {\n      const re =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    },\n  },\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}