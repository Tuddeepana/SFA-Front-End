{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport users from '../../data/chatmember.json';\nconst state = {\n  all: users.data,\n  users: users.data,\n  serchUser: users.data,\n  chats: users.chat,\n  activeuser: 1\n};\nconst getters = {\n  currentChat: state => {\n    var chats = state.chats.find(chat => {\n      if (chat.id === state.activeuser) return chat;\n    });\n    var users = state.users.find(user => {\n      if (user.id === state.activeuser) return user;\n    });\n    return {\n      ...users,\n      'chat': chats\n    };\n  }\n};\nconst mutations = {\n  addChat: (state, payload) => {\n    var today = new Date().toLocaleString('en-US', {\n      hour: 'numeric',\n      minute: 'numeric',\n      hour12: true\n    });\n    const id = state.activeuser;\n    const addchat = state.chats.find(chat => chat.id === id);\n    addchat.messages.push({\n      'sender': 0,\n      'time': today.toLowerCase(),\n      'text': payload\n    });\n  },\n  addChatResponce: state => {\n    var today = new Date().toLocaleString('en-US', {\n      hour: 'numeric',\n      minute: 'numeric',\n      hour12: true\n    });\n    const id = state.activeuser;\n    const addchat = state.chats.find(chat => chat.id === id);\n    addchat.messages.push({\n      'sender': id,\n      'time': today.toLowerCase(),\n      'text': '... I will text you later.'\n    });\n  },\n  setActiveuser: (state, payload) => {\n    state.activeuser = payload;\n    const chats = state.chats.find(chat => {\n      if (chat.id === payload) return chat;\n    });\n    if (!chats) {\n      state.users.find(user => {\n        if (user.id === payload) {\n          user.active = 'active';\n        }\n      });\n      state.chats.push({\n        'id': payload,\n        'users': [0, payload],\n        'lastMessageTime': 'Last seen yesterday 14:14',\n        'messages': [],\n        \"video\": []\n      });\n    }\n  },\n  setSerchUsers: (state, payload) => {\n    state.serchUser = state.all.filter(function (search) {\n      if (search.name.toLowerCase().search(payload.toLowerCase()) !== -1 && search.id !== 0) return search;\n    });\n  }\n};\nconst actions = {\n  addChat: (context, payload) => {\n    context.commit('addChat', payload);\n    setTimeout(function () {\n      context.commit('addChatResponce');\n    }, 1000);\n  },\n  setActiveuser: (context, payload) => {\n    context.commit('setActiveuser', payload);\n  },\n  setSerchUsers: (context, payload) => {\n    context.commit('setSerchUsers', payload);\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};","map":{"version":3,"names":["users","state","all","data","serchUser","chats","chat","activeuser","getters","currentChat","find","id","user","mutations","addChat","payload","today","Date","toLocaleString","hour","minute","hour12","addchat","messages","push","toLowerCase","addChatResponce","setActiveuser","active","setSerchUsers","filter","search","name","actions","context","commit","setTimeout","namespaced"],"sources":["D:/Wrenix/Spring-Sfa/Cuba/template/template/src/store/modules/chat.js"],"sourcesContent":["import users from '../../data/chatmember.json';\n\nconst state = {\n    all: users.data,\n    users: users.data,\n    serchUser: users.data,\n    chats: users.chat,\n    activeuser:1,\n\n};\n\nconst getters = {currentChat: (state) => {\n    var chats = state.chats.find( chat => {\n        if(chat.id === state.activeuser)\n            return chat;\n    });\n    var users = state.users.find( user => {\n        if(user.id === state.activeuser)\n            return user;\n    });\n    return { ...users,'chat':chats };\n},\n\n};\nconst mutations = {\n    addChat: (state, payload) => {\n        var today = new Date().toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true });\n        const id = state.activeuser;\n        const addchat = state.chats.find(chat => chat.id === id);\n        addchat.messages.push({ 'sender': 0, 'time': today.toLowerCase(), 'text': payload });\n    },\n    addChatResponce: (state) => {\n        var today = new Date().toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true });\n        const id = state.activeuser;\n        const addchat = state.chats.find(chat => chat.id === id);\n        addchat.messages.push({ 'sender': id , 'time': today.toLowerCase(), 'text': '... I will text you later.' });\n    },\n    setActiveuser: (state, payload) => {\n\n        state.activeuser = payload;\n\n        const chats = state.chats.find( chat => {\n            if(chat.id === payload)\n                return chat;\n        });\n        if(!chats) {\n            state.users.find( user => {\n                if(user.id === payload) {\n                    user.active = 'active';\n                }\n            });\n            state.chats.push({\n                'id': payload,\n                'users': [\n                    0,\n                    payload\n                ],\n                'lastMessageTime': 'Last seen yesterday 14:14',\n                'messages': [],\n                \"video\":[]\n            });\n        }\n    },\n     setSerchUsers: (state, payload) => {\n        state.serchUser = state.all.filter(function (search) {\n            if (search.name.toLowerCase().search(payload.toLowerCase()) !== -1 && search.id !== 0)\n                return search;\n        });\n    }\n};\nconst actions = {\n    addChat: (context, payload) => {\n        context.commit('addChat', payload);\n    setTimeout(function () {\n        context.commit('addChatResponce');\n    },1000);\n\n\n},\n    setActiveuser: (context, payload) => {\n        context.commit('setActiveuser',payload);\n     },\n     setSerchUsers:(context, payload) => {\n        context.commit('setSerchUsers',payload);\n    }\n};\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}