{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers } from \"vue\";\nimport _imports_0 from '../assets/images/logo/logo.png';\nimport _imports_1 from '../assets/images/logo/logo_dark.png';\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-12 p-0\"\n};\nconst _hoisted_4 = {\n  class: \"login-card\"\n};\nconst _hoisted_5 = {\n  class: \"login-main\"\n};\nconst _hoisted_6 = {\n  class: \"theme-form\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"validate-error\"\n};\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = {\n  class: \"form-input position-relative\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"validate-error\"\n};\nconst _hoisted_13 = {\n  class: \"form-group mb-0\"\n};\nconst _hoisted_14 = {\n  class: \"text-end mt-3\"\n};\nconst _hoisted_15 = [\"disabled\"];\nconst _hoisted_16 = {\n  key: 0,\n  class: \"spinner-border spinner-border-sm me-2\",\n  role: \"status\",\n  \"aria-hidden\": \"true\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", null, [_createElementVNode(\"a\", {\n    class: \"logo\"\n  }, [_createElementVNode(\"img\", {\n    class: \"img-fluid for-light\",\n    src: _imports_0,\n    alt: \"looginpage\"\n  }), _createElementVNode(\"img\", {\n    class: \"img-fluid for-dark\",\n    src: _imports_1,\n    alt: \"looginpage\"\n  })])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", _hoisted_6, [_cache[9] || (_cache[9] = _createElementVNode(\"h4\", null, \"Sign in to account\", -1 /* HOISTED */)), _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"Enter your email & password to login\", -1 /* HOISTED */)), _createCommentVNode(\" API error message \"), $options.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($options.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_8, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"col-form-label\"\n  }, \"Email Address\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"email\",\n    required: \"\",\n    placeholder: \"muthutex@gmail.com\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.email.value = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.email.value]]), !$data.user.email.value || !$options.validEmail($data.user.email.value) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString($data.user.email.errormsg), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    class: \"col-form-label\"\n  }, \"Password\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"password\",\n    name: \"login[password]\",\n    required: \"\",\n    placeholder: \"*********\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.password.value = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.user.password.value]]), $data.user.password.value.length < 7 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, _toDisplayString($data.user.password.errormsg), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"show-hide\"\n  }, [_createElementVNode(\"span\", {\n    class: \"show\"\n  })], -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_13, [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"checkbox p-0\"\n  }, [_createElementVNode(\"input\", {\n    id: \"checkbox1\",\n    type: \"checkbox\"\n  }), _createElementVNode(\"label\", {\n    class: \"text-muted\",\n    for: \"checkbox1\"\n  }, \"Remember password\")], -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    class: \"link\",\n    to: \"/authentication/forgetpassword\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\" Forgot password?\")])),\n    _: 1 /* STABLE */,\n    __: [6]\n  }), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary btn-block w-100\",\n    type: \"submit\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"])),\n    disabled: $options.loading\n  }, [$options.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16)) : _createCommentVNode(\"v-if\", true), _cache[7] || (_cache[7] = _createTextVNode(\" Sign in \"))], 8 /* PROPS */, _hoisted_15)])]), _cache[11] || (_cache[11] = _createElementVNode(\"p\", {\n    class: \"mt-4 mb-0 text-center\"\n  }, [_createTextVNode(\"Don't have account?\"), _createElementVNode(\"a\", {\n    class: \"ms-2\",\n    href: \"sign-up.html\"\n  }, \"Create Account\")], -1 /* HOISTED */))])])])])])])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","class","key","role","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","src","alt","_hoisted_5","_hoisted_6","_createCommentVNode","$options","error","_hoisted_7","_toDisplayString","_hoisted_8","type","required","placeholder","_cache","$event","$data","user","email","value","validEmail","_hoisted_9","errormsg","_hoisted_10","_hoisted_11","name","password","length","_hoisted_12","_hoisted_13","id","for","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","__","_hoisted_14","onClick","_withModifiers","args","login","disabled","loading","_hoisted_16","_hoisted_15","href"],"sources":["D:\\Wrenix\\Spring-Sfa\\Cuba\\template\\template\\src\\auth\\login.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"container-fluid\">\n      <div class=\"row \">\n        <div class=\"col-12 p-0\">\n          <div class=\"login-card\">\n            <div>\n              <div>\n                <a class=\"logo\">\n                  <img class=\"img-fluid for-light\" src=\"../assets/images/logo/logo.png\" alt=\"looginpage\" />\n                  <img class=\"img-fluid for-dark\" src=\"../assets/images/logo/logo_dark.png\" alt=\"looginpage\" />\n                </a>\n              </div>\n              <div class=\"login-main\">\n                <form class=\"theme-form\">\n                  <h4>Sign in to account</h4>\n                  <p>Enter your email & password to login</p>\n\n                  <!-- API error message -->\n                  <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n                  <div class=\"form-group\">\n                    <label class=\"col-form-label\">Email Address</label>\n                    <input class=\"form-control\" type=\"email\" required=\"\" placeholder=\"muthutex@gmail.com\"\n                      v-model=\"user.email.value\">\n                    <span class=\"validate-error\" v-if=\"!user.email.value || !validEmail(user.email.value)\">{{\n                      user.email.errormsg }}</span>\n                  </div>\n\n                  <div class=\"form-group\">\n                    <label class=\"col-form-label\">Password</label>\n                    <div class=\"form-input position-relative\">\n                      <input class=\"form-control\" type=\"password\" name=\"login[password]\" required=\"\"\n                        placeholder=\"*********\" v-model=\"user.password.value\">\n                      <span class=\"validate-error\" v-if=\"user.password.value.length < 7\">{{ user.password.errormsg\n                      }}</span>\n                      <div class=\"show-hide\"><span class=\"show\"> </span></div>\n                    </div>\n                  </div>\n\n                  <div class=\"form-group mb-0\">\n                    <div class=\"checkbox p-0\">\n                      <input id=\"checkbox1\" type=\"checkbox\">\n                      <label class=\"text-muted\" for=\"checkbox1\">Remember password</label>\n                    </div>\n                    <router-link class=\"link\" to=\"/authentication/forgetpassword\"> Forgot password?</router-link>\n                    <div class=\"text-end mt-3\">\n                      <button class=\"btn btn-primary btn-block w-100\" type=\"submit\" @click.prevent=\"login\" :disabled=\"loading\">\n                        <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                        Sign in\n                      </button>\n                    </div>\n                  </div>\n\n                  <p class=\"mt-4 mb-0 text-center\">Don't have account?<a class=\"ms-2\" href=\"sign-up.html\">Create\n                      Account</a></p>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'login',\n  data() {\n    return {\n      user: {\n        email: {\n          value: '',\n          errormsg: ''\n        },\n        password: {\n          value: '',\n          errormsg: ''\n        }\n      }\n    };\n  },\n  computed: {\n    ...mapGetters('auth', ['getLoading', 'getError']),\n    loading() {\n      return this.getLoading;\n    },\n    error() {\n      return this.getError;\n    }\n  },\n  methods: {\n    ...mapActions('auth', {\n      loginAction: 'login'\n    }),\n    async login() {\n      // Validate form\n      if (!this.validateForm()) return;\n\n      try {\n        await this.loginAction({\n          email: this.user.email.value,\n          password: this.user.password.value\n        });\n\n        // Redirect to home page on success\n        this.$router.push('/');\n      } catch (error) {\n        // Error is already handled by the Vuex store\n        console.error('Login error', error);\n      }\n    },\n    validateForm() {\n      let isValid = true;\n\n      // Validate password\n      if (!this.user.password.value || this.user.password.value.length < 6) {\n        this.user.password.errormsg = 'min length 6';\n        isValid = false;\n      } else {\n        this.user.password.errormsg = '';\n      }\n\n      // Validate email\n      if (!this.user.email.value) {\n        this.user.email.errormsg = 'empty not allowed';\n        isValid = false;\n      } else if (!this.validEmail(this.user.email.value)) {\n        this.user.email.errormsg = 'Valid email required.';\n        isValid = false;\n      } else {\n        this.user.email.errormsg = '';\n      }\n\n      return isValid;\n    },\n    validEmail(email) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    }\n  }\n};\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}